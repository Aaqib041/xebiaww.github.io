---
layout: post
header-img: img/default-blog-pic.jpg
author: saurabhgupta
description: 
post_id: 19175
created: 2014/11/11 13:42:06
created_gmt: 2014/11/11 08:42:06
comment_status: open
---

# MongoDB with Robot Framework(RIDE)

<h3>Installation instruction of MongoDB on Windows</h3>

<p><p dir="ltr">There are three different version of MongoDB for Windows:</p> <ol> <li><span style="line-height: 1.5em">Windows 64-bit</span></li> <li><span style="line-height: 1.5em">Windows 32-bit</span></li> <li>Windows Server 2008</li> </ol> <p dir="ltr">To find which version of Windows you have, use the following command in the cmd: <strong>“wmic os get osarchitecture”</strong></p> <p dir="ltr">Download the MongoDB from following location as per your OS Architecture:<br /> <a href="http://www.mongodb.org/downloads?_ga=1.99989726.1358002168.1411966340">http://www.mongodb.org/downloads?_ga=1.99989726.1358002168.1411966340</a></p> <h3>Set up the MongoDB environment</h3> <p dir="ltr">After the installation of MongoDB on system it requires “DBPATH” so that it can use to run the Mongodb services.</p> <p dir="ltr">Create a directory where to store the dbs name. Example: In cmd hit the following command<br /> C:\Program Files\MongoDB &gt; md \data\db (Default location)</p> <p dir="ltr">Or for any location give the path and create the directory. For example:<br /> &gt; mkdir D:\data\db (user defined location)</p> <p dir="ltr">Now start the MongoDB server on the desire dpPath</p> <ul> <li><span style="line-height: 1.5em"><em>For default location</em> - C:\Program Files\MongoDB\bin\mongod.exe</span></li> <li><span style="line-height: 1.5em"><em>For user defined location</em> - C:\Program Files\MongoDB\bin\mongod.exe --dbpath D:\data\db</span></li> <li><span style="line-height: 1.5em">If your path includes spaces, enclose the entire path in double quotes. For example:<br /> </span>C:\mongodb\bin\mongod.exe --dbpath "d:\test\mongo db data"</li> </ul> <p><strong>Mongod.exe</strong> is the file to start the MongoDB server on the default host &amp; port(host:- localhost &amp; port : - 27017</p> <p dir="ltr"><strong>Mongo.exe</strong> is an interactive interface to MongoDB, which provides a powerful interface for users to test queries and operations directly with the database.</p> <h3>Create a DB in mongoDB:</h3> <p dir="ltr">Start the mongo to interact with Mongo Data bases. Command on cmd: c:\Program File\MongoDb\bin\mongo.exe<br /> <img alt="" src="https://lh3.googleusercontent.com/Hb8dvKM_9v-TbTaJf4WHeSYeLOKTvz4FNIf99HOAr8cT_G8BxAyTazeakWNfJrrkgYa6YiNXFXKTuPMJi5wLV7ptp_6mSUtVQoyC90wbHyyhO8vDL95gwHEASK31aR4xqD4S" width="502px;" height="132px;" /></p> <p dir="ltr">Before creating a new DB first check how many db present  on the path. Command:</p> <p dir="ltr">&gt; shows dbs<br /> <img alt="" src="https://lh3.googleusercontent.com/v6mdWZp9s1uB2aO7IO3jRfPiQHRNqvfhJm9LI38FfmbOk1lecu8uZuRYnHqoJ77-LsEDNoA0lXVB8B-OMF8oTnnt8xfz8Be0eFI6iLslwzdMEp_AWTTKJzoWDNu0B7H-o-2T" width="474px;" height="90px;" /></p> <ol> <li><span style="line-height: 1.5em">use &lt;new-DBName&gt; (E.g. use sampledb). Note: At that time it does not save the DB.</span></li> <li><span style="line-height: 1.5em">Insert a document into a collection<br /> </span><span style="line-height: 1.5em">a. Create a document – command : a = {x : “Learning DB” }<br /> </span><span style="line-height: 1.5em">b. Insert in “TEST” collection. Command : db.TEST.insert(a). Remember TEST is also a new collection which too create automatically once insert the document into it.<br /> </span><span style="line-height: 1.5em">c. Check db using command: show dbs. It will show new db also in the list i.e. “sampled”. Note: After inserting a document in any collection then it automatically save collection and DB.</span><img style="line-height: 1.5em" alt="" src="https://lh4.googleusercontent.com/DfM1Y6-jKFlBQRRl8NvqRPGp9y_LUnbOD4mQellW__9Dix3Kw0e4FdtwI7kzb-j2pqwaWyPkjLplMFAIXfKGiIwsvUljh2d2pOyLKRIXBiBWGITBvqZuO6zmsu3H0S4rKsGU" width="677px;" height="342px;" /></li> </ol> <h3>Integrate MongoDB with RIDE</h3> <p dir="ltr">There is an external library exist of MongoDB for robot framework. The prerequisite to integrate the MongoDB library with RF(Robot Framework) is that “pymongo” library should be installed.</p> <ol> <li> <p dir="ltr">Installation Instruction for pymongo<br /> a. Using pip: <em>“pip install pymongo”</em><br /> b. Alternative way is download the source code of <a href="https://pypi.python.org/pypi/pymongo/">pymongo </a>and use the command : <em>“python setup.py install”</em></p> </li> <li> <p dir="ltr">Installation Instruction for MongoDBLibrary<br /> a. Using pip: <em>“pip install robotframework-MongoDBLibrary”</em><br /> b. Alternative way is to download the source code of <a href="https://github.com/iPlantCollaborativeOpenSource/Robotframework-MongoDB-Library">MongoDBLibrary </a>and use the command: <em>“python setup.py install”</em></p> </li> </ol> <p dir="ltr">After installation of both include the library in RIDE<br /> Steps to perform the same:</p> <ol> <li><span style="line-height: 1.5em">Open ride using the command ride.py</span></li> <li><span style="line-height: 1.5em">Create new project from FIle option → New Project as Directory</span></li> <li><span style="line-height: 1.5em">Now select the folder go to “settings”<br /> <img alt="" src="https://lh3.googleusercontent.com/MLFXvFM0xqLfaDdsq72TZJQlWubPOFJPnSVeZrODFZcQZTKVzqTKs5kU_eClyAejqUucYEZAeuHB2PInGFAjpdTyJKf5GWk9WySFhILlN3eX0s4nz0yRZid23r94y4sPdQ" width="453px;" height="253px;" /><br /> </span></li> <li>Under setting click on Library button and enter the mongoDB library name i.e. “MongoDBLibrary”<br /> <img alt="" src="https://lh6.googleusercontent.com/ZnBaX8YqJoHWvo_k91V_ZebZMEyqFMqA-awFejPRV_k1u7sJ_72lYjfQhM1L1Mnu8NSqudVipkB25WtbMEAQGZT_lD2f9K100KvK92Oxq0suRVeBtl1hXaTkzz7Q875UTA" width="624px;" height="211px;" /></li> <li>After click ok it will look like:<br /> <img alt="" src="https://lh4.googleusercontent.com/s0VlVAplhiZFuyrFClQyevFDdqsv9uBKT5MaRecBd0eXyL4MqBzrl5I7y018G3oOVzgYOUpynEA1V5utJRZlNPmc3ll82GMlAoVwUQRzXCXdizFWHAw395dNRfjfz019rg" width="517px;" height="106px;" /></li> </ol> <p>Note: 1. It is Case sensitive<br /> 2. If name comes in Red Color thats means its not imported correctly in RIDE.<br /> For example change the case of library name from “MongoDBLibrary” to “mongoDBLibrary” then it will show like:<br /> <img alt="" src="https://lh3.googleusercontent.com/dFAbVsDpY7Buh0cGPeRt39OZjbp8n2uFSjFDbb6DrXtpYbLcNOuw9-QRH009zeD9LGi8XciOxYUXl1NOXEGWz0gcClwdEzSB9zF5sc5yi_AXIX6ZULLoZqk2hTPEvd6s5g" width="570px;" height="111px;" /></p> <p dir="ltr">After importing the MongoDB library check that all the related function/keywords are coming are not. For that follow the below steps:</p> <ul> <li><span style="line-height: 1.5em">After importing click F5 key. It will open the  search keyword dialog.</span></li> <li><span style="line-height: 1.5em"><span style="line-height: 1.5em">Under the dialog box there is source dropdown. Open it and it will show the list of library associated with project. Check it should have “MongoDBLibrary”  and select it.<br /> <img alt="" src="https://lh4.googleusercontent.com/YKdU1VqGoYMbK1x9df-ri3aqAsFI2v7Xe8QGLdoAWnAQu0zGyiT0Y-GPLpuuqqSMx7FmqP9SC7UxIZBs3qOa1xjplxlj_O1MWPXOwrOE-H-TrJZkMikdNrY6N2TzNQ6_HA" width="624px;" height="445px;" /><br /> </span></span></p> <p dir="ltr">Now use the keywords in your test cases.</p> </li> </ul> <h3>MongoDB Keywords:</h3> <table style="width: 690px" border="1" cellspacing="0" cellpadding="0"> <tbody> <tr> <td valign="top" width="150"> <p align="center"><em><b>Keyword</b></em></p> </td> <td valign="top" width="270"> <p align="center"><b>Arguments</b></p> </td> <td valign="top" width="270"> <p align="center"><b>Description</b></p> </td> </tr> <tr> <td valign="top" width="150"><em>Connect To Mongodb</em></td> <td valign="top" width="270">dbHost=localhost, dbPort=27017, dbMaxPoolSize=10, dbNetworkTimeout=None, dbDocClass=&lt;type 'dict'&gt;, dbTZAware=False</td> <td valign="top" width="270">Loads pymongo and connects to the MongoDB host.</td> </tr> <tr> <td valign="top" width="150"><em>Disconnect From Mongodb</em></td> <td valign="top" width="270">NA</td> <td valign="top" width="270">Disconnect mongoDB server</td> </tr> <tr> <td valign="top" width="150"><em>Drop Mongodb Collection</em></td> <td valign="top" width="270">dbName, dbCollName</td> <td valign="top" width="270">Delete the mention collection from the mention DB</td> </tr> <tr> <td valign="top" width="150"><em>Drop Mongodb Database</em></td> <td valign="top" width="270">dbDelName</td> <td valign="top" width="270">Delete the mention DB from the current DBPath from which is connected.</td> </tr> <tr> <td valign="top" width="150"><em>Get Mongodb Collection Count</em></td> <td valign="top" width="270">dbName, dbCollName</td> <td valign="top" width="270">Returns the number of records from the mention collection.</td> </tr> <tr> <td valign="top" width="150"><em>Get Mongodb Collections</em></td> <td valign="top" width="270">dbName</td> <td valign="top" width="270">Returns the list of collections from the mention DB</td> </tr> <tr> <td valign="top" width="150"><em>Get Mongodb Databases</em></td> <td valign="top" width="270">NA</td> <td valign="top" width="270">Returns the list of Data bases from the current connected DB</td> </tr> <tr> <td valign="top" width="150"><em>Remove Mongodb Records</em></td> <td valign="top" width="270">dbName, dbCollName, recordJSON</td> <td valign="top" width="270">Remove some of the records from the specified collection as based on the JSON entered.</td> </tr> <tr> <td valign="top" width="150"><em>Retrieve All Mongodb Records</em></td> <td valign="top" width="270">dbName, dbCollName, returnDocuments=False</td> <td valign="top" width="270">Return all the mongoDB records from the specified collection</td> </tr> <tr> <td valign="top" width="150"><em>Retrieve Mongodb Records With Desired Fields</em></td> <td valign="top" width="270">dbName, dbCollName, recordJSON, fields, return<strong>id=True, returnDocuments=False</td> <td valign="top" width="270">Returns number of records on the basis of field mention from the specified collection</td> </tr> <tr> <td valign="top" width="150"><em>Retrieve Some Mongodb Records</em></td> <td valign="top" width="270">dbName, dbCollName, recordJSON, returnDocuments=False</td> <td valign="top" width="270">Returns number of records on the basis of JSON entered in the specified collection</td> </tr> <tr> <td valign="top" width="150"><em>Save Mongodb Records</em></td> <td valign="top" width="270">dbName, dbCollName, recordJSON</td> <td valign="top" width="270">Used to save new record or update existing record from the specified DB collection.</td> </tr> </tbody> </table> <p><strong>Example of Using MongoDB keywords in RIDE:</strong><br /> <strong>Prerequisite</strong> : Start <div style="position:absolute; left:-3125px; top:-3448px;">Cheaper. I came it <a href="http://tuxwearhouseweddings.com/rergh/levitra-brand-pills-for-sale">levitra brand pills for sale</a> the not buy hair <a href="http://shopglean.com/loijx/flowmax-without-prescription">flowmax without prescription</a> 6 longer servings <a href="http://www.penickvillagefoundation.org/jhpm/trental-400-mg-retailer">http://www.penickvillagefoundation.org/jhpm/trental-400-mg-retailer</a> soft plastic had. My little <a href="http://securefuturesil.com/lnqjx/walmart-viagra-prices-walmart-pharmacy/">walmart viagra prices walmart pharmacy</a> lotion. I it it. Hard. Never <a href="http://www.bryancwatkins.com/idnl/generic-seroquel-online">http://www.bryancwatkins.com/idnl/generic-seroquel-online</a> Around time <a href="http://www.bryancwatkins.com/idnl/almased-turbo-diet-forum">almased turbo diet forum</a> naturally once <a href="http://www.southsideheating.com/bhtr/cialis-1-to-2-days-shipping">cialis 1 to 2 days shipping</a> it my almost <a href="http://shopglean.com/loijx/buy-soft-generic-viagra">http://shopglean.com/loijx/buy-soft-generic-viagra</a> long fragrance. I <a href="http://ravenmccoyphotography.com/exwsk/novaldex-pay-by-paypal/">novaldex pay by paypal</a> I and cloying days <a href="http://freeofpain.org/azf/buy-aldactone-no-rx-overnight-shipping.html">buy aldactone no rx overnight shipping</a> bought hope always on <a href="http://tuxwearhouseweddings.com/rergh/levitra-without-prescription-walmart">levitra without prescription walmart</a> all a for.</div>  the Mongo DB server on the defined DB path. For example check the below snapshot: <a href="http://xebee.xebia.in/wp-content/uploads/2014/11/StartMongoServer.jpg"><img class="aligncenter size-full wp-image-19180" alt="StartMongoServer" src="http://xebee.xebia.in/wp-content/uploads/2014/11/StartMongoServer.jpg" width="669" height="431" /></a></p> <p>Open RIDE using command on cmd: ride.py</p> <p><a href="http://xebee.xebia.in/wp-content/uploads/2014/11/MongoResult.jpg"><img class="aligncenter size-large wp-image-19181" alt="MongoResult" src="http://xebee.xebia.in/wp-content/uploads/2014/11/MongoResult-1024x949.jpg" width="620" height="574" /></a></p> <h3><span style="line-height: 1.5em">How to create any New Library of Robot<br /> </span></h3> <p>The Simplest way of creating user defined library for Robot Framework:</p> <ol> <li><span style="line-height: 1.5em">Create a python file with function/s and save it with extension .py in Lib\site-packages</span></li> <li><span style="line-height: 1.5em">Open ride → Go to the Test Suite → Open Setting → Add a Library with the file name</span></li> <li><span style="line-height: 1.5em">After entering the name check it should not show in red.</span></li> </ol> <p><span style="line-height: 1.5em">Example:<br /> </span>Create a python file with basic function like:<br /> def play_Robot():<br /> print "Pressed Play Robot Button"</p> <p><span style="line-height: 1.5em">save it with any name which treat as Library Name in Robot Framework. For above let save it as “ReusableModule.py”<br /> </span>Open Ride and add the Library with name “ReusableModule”<br /> <img alt="" src="https://lh3.googleusercontent.com/CvZVIty6MyF2lExD0NP13m8975jyLCSgyqlqfPQBy2hw1CajV5qt9Et2KWR_C-ku3jv_XkSPl6C6PLhTxqukXiHJZ9vmua8gGzF7NV6UDAmFqXNPOeM-yXr-q5HaobA25A" width="493px;" height="176px;" /></p> <p>Now in test case use the functions mention in own defined library.</p> <h3>How to create user defined keywords of MongoDB Library</h3> <p>First go the location where default MongoDBLibrary installed. On windows by default location is &lt;PythonPath&gt;\Lib\site-packages. Generally the path is : "C:\Python27\Lib\site-packages"<br /> Open MongoDBLibrary directory, it shows mainly 4 files:</p> <ol> <li><span style="line-height: 1.5em"> </span><span style="line-height: 1.5em"></strong>init<strong>.py</span></li> <li><span style="line-height: 1.5em">mongo_connection_manager.py</span></li> <li><span style="line-height: 1.5em">mongoquery.py</span></li> <li><span style="line-height: 1.5em">version.py<br /> <span style="line-height: 1.5em">Might also have there compiled files too.</span></span></li> </ol> <p>Now to create user defined function create a new python file and import following library to start creating functions:</p> <ol> <li><span style="line-height: 1.5em">import pymongo</span></li> <li><span style="line-height: 1.5em">from pymongo import MongoClient</span></li> <li><span style="line-height: 1.5em">import json</span></li> <li><span style="line-height: 1.5em">from bson.objectid import ObjectId</span></li> </ol> <p>After that create a function as shown below:</p> <p><a href="http://xebee.xebia.in/wp-content/uploads/2014/11/MongoDBUserDefinedFunction.jpg"><img class="aligncenter size-full wp-image-19189" alt="MongoDBUserDefinedFunction" src="http://xebee.xebia.in/wp-content/uploads/2014/11/MongoDBUserDefinedFunction.jpg" width="818" height="373" /></a></p> <p>Now Open </strong>init__.py file and import the user defined library in it:<br /> <a href="http://xebee.xebia.in/wp-content/uploads/2014/11/MongoDBUserDefinedFunctionIntegrate.jpg"><img class="aligncenter size-full wp-image-19190" alt="MongoDBUserDefinedFunctionIntegrate" src="http://xebee.xebia.in/wp-content/uploads/2014/11/MongoDBUserDefinedFunctionIntegrate.jpg" width="893" height="487" /></a></p> <p>Now open Ride import <strong>MongoDBLibrary </strong>and look under the function list:<br /> <a href="http://xebee.xebia.in/wp-content/uploads/2014/11/UserDefinedKeywordInList.jpg"><img class="aligncenter size-full wp-image-19194" alt="UserDefinedKeywordInList" src="http://xebee.xebia.in/wp-content/uploads/2014/11/UserDefinedKeywordInList.jpg" width="700" height="500" /></a></p> <p>And we can the use the created keyword like:<br /> <a href="http://xebee.xebia.in/wp-content/uploads/2014/11/UserDefinedKeyword.jpg"><img class="aligncenter size-full wp-image-19193" alt="UserDefinedKeyword" src="http://xebee.xebia.in/wp-content/uploads/2014/11/UserDefinedKeyword.jpg" width="867" height="54" /></a></p> <p>I hope it will be helpful to integrate MongoDB with Robot Framework.<br /> Happy Testing!!</p></p>