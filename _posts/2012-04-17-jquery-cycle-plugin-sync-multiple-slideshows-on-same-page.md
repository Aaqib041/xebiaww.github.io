---
layout: post
header-img: img/default-blog-pic.jpg
author: anubhava
description: 
post_id: 13224
created: 2012/04/17 17:59:40
created_gmt: 2012/04/17 12:59:40
comment_status: open
---

# JQuery Cycle Plugin: Sync multiple slideshows on same page

<p>I was working on a website where I wanted to create a slideshow on the homepage, where I have to show<br /> a set of questions and answers coming from left-to-right and right-to-left of the screen, respectively. To add to the<br /> mystry, the question comes first and then the answer comes after a wait of 4 seconds. But both question<br /> and answer should move out of the screen simultaneously, and then the next question comes...and this<br /> continues till the cycle reaches the last slide.</p>

<p><p>So, here it goes...<br /> <!--more--></p> <p>First thing first, get the JQuery Cycle Plugin from <a href="http://jquery.malsup.com/cycle/">here</a> and include it in your source.</p> <p>I created this website in Drupal so I will use some specific code of Drupal in some places.</p> <p><strong>Gibberish in Drupal starts</strong></p> <p>To add cycle plugin in your node/page template just insert the following code at the top:</p> <p>[sourcecode language="php"]&lt;br /&gt; &amp;lt;?php&lt;br /&gt; drupal_add_js(drupal_get_path('theme', 'my_theme').'/js/jquery.cycle.all.js')&lt;br /&gt; ?&amp;gt;&lt;br /&gt; [/sourcecode]</p> <p>The above line will add the cycle javascript file my first going into the themes folder and then in your theme directory,<br /> in my case it was 'my_theme'. Please note it is 'theme' and not 'themes' many people get confused and take this as<br /> the actual directory name but this is just Drupal syntax to get to the themes directory.</p> <p><strong>Gibberish in Drupal ends</strong></p> <p>I am not going to be modular here and would just do everthing in a single file. For all innovative minds please feel<br /> free to put code where ever you feel happy.</p> <p>Here is the HTML page:<br /> [sourcecode language="html"]&lt;br /&gt; &amp;lt;html&amp;gt;&lt;br /&gt; &amp;lt;head&amp;gt;&lt;br /&gt; &amp;lt;!-- let's leave this empty for now --&amp;gt;&lt;br /&gt; &amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;&lt;br /&gt; &amp;lt;/head&amp;gt;&lt;br /&gt; &amp;lt;body&amp;gt;&lt;br /&gt; &amp;lt;div id='homepage'&amp;gt;&lt;br /&gt; &amp;lt;div id='questions'&amp;gt;&lt;br /&gt; &amp;lt;div id='ques-1'&amp;gt;Is Scrum really going to work in one month project?&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ques-2'&amp;gt;Do you know what TDD is?&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ques-3'&amp;gt;When was the last time you used CI?&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ques-4'&amp;gt;Are you Agile?&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ques-5'&amp;gt;2 developers takes 4 months, therefor 4 developers will take 2 months. What do you say?&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='answers'&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-1'&amp;gt;Yes, I am 200% sure that it might work.&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-2'&amp;gt;Yes, I do. It means The Developer's Death.&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-3'&amp;gt;OMG! What do I need a Crime Investigator for?!&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-4'&amp;gt;Yes, I proudly say that I am A-jahil (ignorant).&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-5'&amp;gt;Thank God!! This is not happening in the real life, otherwise 9 people would be making a baby in a month.&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;/body&amp;gt;&lt;br /&gt; &amp;lt;/html&amp;gt;&lt;br /&gt; [/sourcecode]</p> <p>I defined two separate DIVs to show questions and answers because cycle plugin works on a container element and then container's each child element will become a slide.</p> <p>Add the following code in the &lt;script&gt; tag:</p> <p>[sourcecode language="javascript"]&lt;br /&gt; jQuery(window).bind(&amp;quot;load&amp;quot;, function() {&lt;/p&gt; &lt;p&gt; jQuery('#questions').cycle({&lt;br /&gt; fx : 'scrollRight', // scroll left-to-right&lt;br /&gt; speed : 'slow',&lt;br /&gt; timeoutFn : calculateTimeout, // described below&lt;br /&gt; nowrap : true, // stop slideshow after the last slide&lt;br /&gt; })&lt;br /&gt; jQuery('#answers').cycle({&lt;br /&gt; fx : 'scrollLeft', // scroll right-to-left&lt;br /&gt; speed : 'slow',&lt;br /&gt; timeoutFn : calculateTimeoutAnswers, // described below&lt;br /&gt; nowrap : true&lt;br /&gt; })&lt;br /&gt; });&lt;br /&gt; [/sourcecode]</p> <p>and here are the timeout functions:</p> <p>[sourcecode language="javascript"]&lt;br /&gt; var timeouts = [9, 9, 9, 9, 9];&lt;br /&gt; function calculateTimeout(currElement, nextElement, opts, isForward) {&lt;br /&gt; var index = opts.currSlide;&lt;br /&gt; return timeouts[index] * 1000;&lt;br /&gt; } &lt;/p&gt; &lt;p&gt;var timeoutsAnswers = // explained below ;&lt;br /&gt; function calculateTimeoutAnswers(currElement, nextElement, opts, isForward) {&lt;br /&gt; var index = opts.currSlide;&lt;br /&gt; return timeoutsAnswers[index] * 1000;&lt;br /&gt; }&lt;br /&gt; [/sourcecode]</p> <p>I created these to set a delay for each slide and left enough delay, or 4 sec, to display the questions' corresponding answer.</p> <p>But the tricky part is that we should slide out both question and answer at the same time. I tried to set different intervals<br /> for each answer slide but all in vain, spent a few hous googling and on calcuator/paper trying to figure out a formula to<br /> do the trick. But then it hit-me!! </p> <p>Why not add some dummy child elements to 'answers' container or what I called them 'delay' elements!!</p> <p>Hence the HTML for anwers container became:<br /> [sourcecode language="html"]&lt;br /&gt; &amp;lt;div id='answers'&amp;gt;&lt;br /&gt; &amp;lt;div class='delay'&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-1'&amp;gt;Yes, I am 200% sure that it might work.&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div class='delay'&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-2'&amp;gt;Yes, I do. It means The Developer's Death.&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div class='delay'&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-3'&amp;gt;OMG! What do I need a Crime Investigator for?!&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div class='delay'&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-4'&amp;gt;Yes, I proudly say that I am A-jahil (ignorant).&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div class='delay'&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;div id='ans-5'&amp;gt;Thank God!! This is not happening in the real life, otherwise 9 people would be making a baby in a month.&amp;lt;/div&amp;gt;&lt;br /&gt; &amp;lt;/div&amp;gt;&lt;br /&gt; [/sourcecode]</p> <p>and the timeoutAnswers array became:</p> <p>[sourcecode language="javascript"]&lt;br /&gt; // do some hit-n-trail because the slide out time for both questions and answers&lt;br /&gt; // will not be exactly same even though we set it to 4+5=9 sec&lt;br /&gt; // you may need to change 5 to something like 4.6 or less.&lt;br /&gt; var timeoutsAnswers = [4, 5, 4, 5, 4, 5, 4, 5, 4, 5]&lt;br /&gt; [/sourcecode]</p> <p>Here is the full HTML:</p> <p>[sourcecode language="html"]&lt;br /&gt; &amp;lt;html&amp;gt;&lt;br /&gt; &amp;lt;head&amp;gt;&lt;br /&gt; &amp;lt;!-- add jquery and cycle plugins --&amp;gt;&lt;br /&gt; &amp;lt;script type='text/javascript'&amp;gt;&lt;br /&gt; jQuery(window).bind(&amp;quot;load&amp;quot;, function() {&lt;/p&gt; &lt;p&gt; jQuery('#questions').cycle({&lt;br /&gt; fx : 'scrollRight', // scroll left-to-right&lt;br /&gt; speed : 'slow',&lt;br /&gt; timeoutFn : calculateTimeout, // described below&lt;br /&gt; nowrap : true, // stop slideshow after the last slide&lt;br /&gt; })&lt;br /&gt; jQuery('#answers').cycle({&lt;br /&gt; fx : 'scrollLeft', // scroll right-to-left&lt;br /&gt; speed : 'slow',&lt;br /&gt; timeoutFn : calculateTimeoutAnswers, // described below&lt;br /&gt; nowrap : true&lt;br /&gt; })&lt;br /&gt; });&lt;/p&gt; &lt;p&gt; var timeouts = [9, 9, 9, 9, 9];&lt;br /&gt; function calculateTimeout(currElement, nextElement, opts, isForward) {&lt;br /&gt; var index = opts.currSlide;&lt;br /&gt; return timeouts[index</p>